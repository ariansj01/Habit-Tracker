### نقشه راه ۲۰ روزه — Simple Habit Tracker

این سند مراحل روزبه‌روز پروژه را نشان می‌دهد تا همراه پروژه پیش بروید. در هر روز هدف، جزئیات و چالش‌ها توضیح داده شده‌اند.

#### روزهای 1 تا 4

| روز | هدف | جزئیات و چالش |
| --- | --- | --- |
| **1** | **ایده و ساختار** | مشخص‌کردن MVP، کشیدن دیاگرام دیتابیس، تصمیم برای Stack (Next.js + Express/Fastify + MongoDB). چالش: طراحی مدل داده برای عادت‌ها و پیگیری روزانه. |
| **2** | **راه‌اندازی ریپو و محیط** | ساخت مخزن GitHub، نصب Next.js (یا Vite)، Tailwind، ESLint/Prettier. بک‌اند Express/Fastify + TypeScript. چالش: تنظیم مونو‌ریپو یا دو ریپو جدا و مدیریت اسکریپت‌ها. |
| **3** | **طراحی UI ابتدایی** | طراحی صفحات Home، Habit List، Add Habit در Figma یا روی کاغذ. چالش: انتخاب ساختار کامپوننت‌ها و معماری State (Zustand/Redux یا فقط TanStack Query + local state). |
| **4** | **Skeleton Frontend** | ایجاد صفحات خالی و روتینگ Next.js، NavBar، Layout. چالش: معماری پوشه‌ها و ساخت Layout قابل گسترش. |

#### روزهای 5 تا 8

| روز | هدف | جزئیات و چالش |
| --- | --- | --- |
| **5** | **اتصال به دیتابیس** | نصب MongoDB و Mongoose، ساخت مدل‌های User و Habit. چالش: طراحی ارتباط یک‌به‌چند (User→Habits). |
| **6** | **CRUD عادت‌ها** | API: create/read/update/delete برای Habit. چالش: ولیدیشن (Zod/Joi) و هندل خطا. |
| **7** | **پیگیری روزانه (Tracking)** | API برای ثبت «انجام شد/نشد» هر روز. چالش: ذخیره ساختار تاریخ (UTC vs local) و جلوگیری از ثبت تکراری. |
| **8** | **Auth ساده** | ثبت‌نام/ورود با JWT. چالش: Hash رمز با bcrypt، Middleware حفاظت از Route. |

#### روزهای 9 تا 13

| روز | هدف | جزئیات و چالش |
| --- | --- | --- |
| **9** | **اتصال به API** | استفاده از React Query/TanStack برای fetch/mutate. چالش: مدیریت خطا و Loading states. |
| **10** | **صفحه لیست عادت‌ها** | نمایش عادت‌ها + دکمه Add/Delete. چالش: آپدیت optimistic بعد از حذف. |
| **11** | **فرم افزودن عادت** | فرم با React Hook Form و ولیدیشن. چالش: هندل خطاهای API. |
| **12** | **صفحه پیگیری روزانه** | تقویم/لیست روزانه برای تیک‌زدن انجام عادت. چالش: مدیریت State محلی و همگام‌سازی با API. |
| **13** | **آمار و نمودار ساده** | درصد موفقیت هفتگی با Chart.js/Recharts. چالش: محاسبه داده در سمت سرور برای بهینه‌سازی. |

#### روزهای 14 تا 17

| روز | هدف | جزئیات و چالش |
| --- | --- | --- |
| **14** | **Theme Switch (Dark/Light)** | چالش: ذخیره تم در localStorage و sync با سیستم. |
| **15** | **Progressive Web App (PWA)** | اضافه‌کردن manifest و Service Worker. چالش: استراتژی کش برای API (network-first). |
| **16** | **نوتیفیکیشن ایمیل** | ارسال یادآوری روزانه با nodemailer یا سرویس خارجی. چالش: Cron Job یا queue (node-cron). |
| **17** | **آپلود آواتار کاربر** | آپلود تصویر با multer یا Cloudinary. چالش: مدیریت حجم و امنیت فایل. |

#### روزهای 18 تا 20

| روز | هدف | جزئیات و چالش |
| --- | --- | --- |
| **18** | **بهینه‌سازی و Performance** | آنالیز با Lighthouse، بهینه‌سازی React (memo، lazy). چالش: کاهش First Load. |
| **19** | **تست و لاگینگ** | تست واحد (Jest) و لاگینگ خطا (Winston/Pino/Sentry). چالش: Mock دیتابیس برای تست (mongodb-memory-server). |
| **20** | **دیپلوی نهایی** | فرانت روی Vercel، بک روی Render/Railway. چالش: تنظیم Env متغیرها و CORS. |

---

یادداشت‌ها:
- MVP و مدل داده در `docs/stage-1/` توضیح داده شده‌اند.
- تمرکز این نقشه راه روی حداقل قابلیت‌های مفید است؛ ویژگی‌های اضافی (Reminder، Social، Gamification) پس از v0 بررسی می‌شوند.

